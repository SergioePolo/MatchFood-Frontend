<main class="panel-admin">
  <div class="contenido-principal">
    <!-- Encabezado -->
    <header class="encabezado">
      <h1>Dashboard de Estad칤sticas</h1>
      <p>Bienvenido de vuelta, Admin MatchFood</p>
    </header>

    <!-- Tarjetas de estad칤sticas -->
    <section class="tarjetas-estadisticas">
      <!-- Usuarios -->
      <article class="tarjeta">
        <div class="tarjeta-top">
          <div class="tarjeta-info">
            <h3>Usuarios</h3>
            <div class="tarjeta-valores">
              <p class="valor">{{ stats.totalUsers }}</p>
              <div [ngClass]="stats.usersGrowth >= 0 ? 'porcentaje positivo' : 'porcentaje negativo'">
                <i [ngClass]="stats.usersGrowth >= 0 ? 'bi bi-arrow-up' : 'bi bi-arrow-down'"></i>
                <span>{{ stats.usersGrowth >= 0 ? '+' : '' }}{{ stats.usersGrowth }}%</span>
              </div>
            </div>
          </div>
          <div class="tarjeta-icono fondo-usuarios">
            <i class="bi bi-people"></i>
          </div>
        </div>
        <div class="tarjeta-footer">
          <span>vs. mes anterior</span>
          <strong>{{ stats.usersLastMonth }}</strong>
        </div>
      </article>

      <!-- Restaurantes -->
      <article class="tarjeta">
        <div class="tarjeta-top">
          <div class="tarjeta-info">
            <h3>Restaurantes</h3>
            <div class="tarjeta-valores">
              <p class="valor">{{ stats.totalRestaurants }}</p>
              <div [ngClass]="stats.restaurantsGrowth >= 0 ? 'porcentaje positivo' : 'porcentaje negativo'">
                <i [ngClass]="stats.restaurantsGrowth >= 0 ? 'bi bi-arrow-up' : 'bi bi-arrow-down'"></i>
                <span>{{ stats.restaurantsGrowth >= 0 ? '+' : '' }}{{ stats.restaurantsGrowth }}%</span>
              </div>
            </div>
          </div>
          <div class="tarjeta-icono fondo-restaurantes">
            <i class="bi bi-shop"></i>
          </div>
        </div>
        <div class="tarjeta-footer">
          <span>vs. mes anterior</span>
          <strong>{{ stats.restaurantsLastMonth }}</strong>
        </div>
      </article>

      <!-- Reservas -->
      <article class="tarjeta">
        <div class="tarjeta-top">
          <div class="tarjeta-info">
            <h3>Reservas</h3>
            <div class="tarjeta-valores">
              <p class="valor">{{ stats.totalBookings }}</p>
              <div [ngClass]="stats.bookingsGrowth >= 0 ? 'porcentaje positivo' : 'porcentaje negativo'">
                <i [ngClass]="stats.bookingsGrowth >= 0 ? 'bi bi-arrow-up' : 'bi bi-arrow-down'"></i>
                <span>{{ stats.bookingsGrowth >= 0 ? '+' : '' }}{{ stats.bookingsGrowth }}%</span>
              </div>
            </div>
          </div>
          <div class="tarjeta-icono fondo-reservas">
            <i class="bi bi-calendar-check"></i>
          </div>
        </div>
        <div class="tarjeta-footer">
          <span>vs. mes anterior</span>
          <strong>{{ stats.bookingsLastMonth }}</strong>
        </div>
      </article>
    </section>

    <!-- Gr치ficos -->
    <section class="seccion-graficos">
      <!-- Gr치fico principal -->
      <div class="grafico-principal">
        <div class="grafico-header">
          <div>
            <h3>Rendimiento general</h3>
            <p>칔ltimos 6 meses</p>
          </div>
          <select class="selector-periodo" [(ngModel)]="selectedPeriod" (change)="onPeriodChange()">
            <option value="7">칔ltimos 7 d칤as</option>
            <option value="30">칔ltimos 30 d칤as</option>
            <option [value]="180" selected>칔ltimos 6 meses</option>
          </select>
        </div>
        
        <!-- Espacio para el gr치fico -->
        <div class="grafico-placeholder">
          <p>游늵 Aqu칤 ir치 tu gr치fico de l칤neas/barras</p>
          <small>Puedes integrar Chart.js, Recharts o similar</small>
        </div>
      </div>

      <!-- Categor칤as populares -->
      <aside class="categorias-populares">
        <h3>Categor칤as populares</h3>
        <div class="lista-categorias">
          <div *ngFor="let category of categories" class="categoria">
            <div class="categoria-header">
              <span>{{ category.name }}</span>
              <strong>{{ category.value }}%</strong>
            </div>
            <div class="barra">
              <div class="relleno" [ngClass]="category.color" [style.width.%]="category.value"></div>
            </div>
          </div>
        </div>
      </aside>
    </section>
  </div>
</main>